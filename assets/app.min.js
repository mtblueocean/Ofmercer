! function(e, t, i) {
    "use strict";
    e(document);
    var n = e(t),
        o = (e("body"), t.Modernizr, "ontouchstart" in document.documentElement),
        a = {
            Android: function() {
                return navigator.userAgent.match(/Android/i)
            },
            BlackBerry: function() {
                return navigator.userAgent.match(/BlackBerry/i)
            },
            iOS: function() {
                return null
            },
            Opera: function() {
                return navigator.userAgent.match(/Opera Mini/i)
            },
            Windows: function() {
                return navigator.userAgent.match(/IEMobile/i)
            },
            any: function() {
                return a.Android() || a.BlackBerry() || a.iOS() || a.Opera() || a.Windows()
            }
        };

    function s() {
        var i, n = e("#mini-cart"),
            o = e(".mini-cart-trigger").find("i");
        e(".mini-cart-trigger").on({
            mouseenter: function() {
                e(t).width() > 831 && (n.show().addClass("open"), o.addClass("active"))
            },
            mouseleave: function() {}
        }), n.on({
            mouseleave: function() {
                e(this).hasClass("open") && (i = setTimeout(function() {
                    n.hide().removeClass("open"), o.removeClass("active")
                }, 400))
            },
            mouseenter: function() {
                clearTimeout(i)
            }
        })
    }

    function r(t) {
        var i = t.find("form");
        i.find('input[type="submit"]').on("click", function(n) {
            var o;
            n && n.preventDefault(), o = i, e.ajax({
                type: o.attr("method"),
                url: o.attr("action"),
                data: o.serialize(),
                cache: !1,
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                error: function(e) {
                    alert("Could not connect to the registration server. Please try again later.")
                },
                success: function(i) {
                    "success" != i.result ? o.fadeOut(function() {
                        t.find(".success").html("Sorry, please try again in a few minutes").fadeIn(), setTimeout(function() {
                            t.find(".success").fadeOut(function() {
                                e(this).html(""), o.fadeIn()
                            })
                        }, 4e3)
                    }) : o.fadeOut(function() {
                        t.find(".success").html("Thank You!").fadeIn()
                    })
                }
            })
        })
    }

    function c() {
        var t, i;
        e("#blog").find("article").each(function(n, o) {
            (t = e(o)).hasClass("post-instagram") ? t.next("article").hasClass("post-instagram") && t.addClass("float-me").next("article").addClass("float-me") : 0 == t.hasClass(".post-quote") && (i = t.find(".msg-group").innerHeight(), t.css({
                "min-height": i + 103
            }))
        })
    }

    function l() {
        var t, i, n;
        n = e(".load-more-posts"), t = n.data("maxpage"), i = 1, n.click(function(o) {
            return o.preventDefault(), o.stopPropagation(), a = n, s = t, r = ++i, l || (l = location.pathname, d = location.search), void e.ajax({
                type: "GET",
                dataType: "html",
                url: l + "?page=" + r,
                data: d,
                success: function(t) {
                    var i;
                    if ((i = e(t)).length) return e(".article-feed").append(i.find(".article-feed").html()), setTimeout(function() {
                        c()
                    }, 500), a.attr("disabled", !1), s === r ? a.hide() : a.attr("disabled", !1)
                },
                error: function(e) {
                    console.log("sorry something went wrong")
                }
            });
            var a, s, r, l, d
        })
    }
    e(function() {
        var i, d, u, m, f, g, p, h, v, b, y, k;
        i = Boolean(navigator.cookieEnabled), void 0 !== navigator.cookieEnabled || i || (e.cookie("testcookie", !0), i = Boolean(e.cookie("testcookie")), e.removeCookie("testcookie")), i && (e.cookie("joined_mailing_list") || (e.cookie("viewed_mailing_list") || (2 == localStorage.getItem("pageviews") || e.cookie("viewed_mailing_list", !0, {
                expires: 2,
                path: "/"
            })))), n.load(function() {
                e("#content, #home-content").addClass("show")
            }), e(".newsletter-trigger").click(function() {
                e.fancybox.open([{
                    width: 700,
                    height: 700,
                    href: "#newsBox3"
                }], {
                    padding: 30
                })
            }), e(".mosaic-item, .collection-item, .story-col, .post-instagram, .contact-col").matchHeight(), u = e(".sub-img").find("img"), m = e(".sub-img").find(".sub-img-description"), f = u.attr("src"), g = m.text(), e(".sub-menu .link").on({
                mouseenter: function() {
                    var t = e(this).data("description");
                    d = e(this).find("img").attr("src"), u.attr("src", d), m.text(t)
                },
                mouseleave: function() {
                    u.attr("src", f), m.text(g)
                }
            }), s(), p = e("#site-header"), h = e(".product").find("#site-header"), v = p.outerHeight(), e("#blog-tags"), b = e(".index"), n.scroll(function() {
                e(this).scrollTop() > v ? (b.removeClass("not-scrolled"), h.addClass("trans")) : (b.addClass("not-scrolled"), h.removeClass("trans"))
            }), r(e("#footer-newsletter")), r(e("#popup-newsletter")), r(e("#panel-newsletter-mobile")), y = e(".acc-trigger"), k = e(".acc-content"), y.click(function() {
                var t = e(this),
                    i = t.next(".acc-content");
                if (k.slideUp(), t.hasClass("open")) return t.removeClass("open"), !1;
                y.removeClass("open"), t.addClass("open"), i.slideToggle()
            }), o || e(".collection-image").on({
                mouseenter: function() {
                    e(this).find(".img1").hide().next(".img2").show()
                },
                mouseleave: function() {
                    e(this).find(".img2").hide().prev(".img1").show()
                }
            }), e(".slick").length > 0 && e(".slick").slick(), c(),
            function() {
                if (e("#size-guide-trigger").click(function() {
                        e("body").removeClass("mailing-open").removeClass("sizeguide-open").addClass("sizeguide-open"), e.fancybox({
                            width: 700,
                            height: 700,
                            href: "#sizeguide",
                            padding: 30,
                            afterShow: function() {
                                e(".fancybox-wrap").outerHeight()
                            },
                            afterClose: function() {}
                        })
                    }), e("#size-guide-trigger-2").click(function() {
                        e("body").removeClass("mailing-open").removeClass("sizeguide-open").addClass("sizeguide-open"), e.fancybox.open([{
                            width: 700,
                            height: 700,
                            href: "#sizeguide"
                        }], {
                            padding: 30
                        })
                    }), e("#size-trigger").click(function() {
                        e(this).parents(".selector-wrapper").toggleClass("show")
                    }), e("#swatch-trigger").click(function() {
                        e(this).toggleClass("show"), e(".swatch").toggleClass("show")
                    }), null != a.iOS()) {
                    var i = e("body").find("#productVariants");
                    i.addClass("show-ios"), i.focus(function(i) {
                        var n = e(t).scrollTop();
                        e("html, body").scrollTop(n)
                    });
                    var n = !0;
                    i.change(function(t) {
                        if (n) n = !1;
                        else {
                            var o = i.find("option:selected").html();
                            e("#size-trigger").text(o)
                        }
                    })
                }
            }(), e(".num-incr").find("span").on("click", function() {
                var t = e(this).closest(".ci-qty").find('input[type="text"]'),
                    i = e(this),
                    n = t.val(),
                    o = parseInt(t.attr("data-id"));
                if (i.hasClass("inc")) var a = parseFloat(n) + 1;
                else a = n > 0 ? parseFloat(n) - 1 : 0;
                t.val(a), e.post("/cart/change.js", {
                    quantity: a,
                    id: o
                })
            }),
            function() {
                e("#mobile-menu");
                var t = e("#shop-panel"),
                    i = (e(".utility-links"), e("#newsletter-panel")),
                    n = e(".mobile-utilities");
                e("body").click(function(t) {
                    var i = e(t.target),
                        n = e(".mobile-menu-trigger");

                    function o() {
                        n.removeClass("open"), e("#mobile-menu").removeClass("open"), e(".utility-links").fadeIn()
                    }
                    n.hasClass("open") ? (i.is(n) && o(), i.is(".mobile-inner") || i.is("a") || o()) : i.is(n) && (n.addClass("open"), e("#mobile-menu").addClass("open"), e(".utility-links").fadeOut())
                }), e(".shop-trigger").click(function(e) {
                    e.preventDefault(), t.addClass("open")
                }), e(".back-to-shop").click(function() {
                    t.removeClass("open")
                }), e(".mobile-newsletter-trigger").click(function() {
                    i.addClass("open")
                }), e(".back-to-main").click(function() {
                    i.removeClass("open")
                }), e(".mobile-search-trigger").click(function() {
                    n.find("form").show()
                }), n.find(".fake-submit").click(function() {
                    n.find("form").submit()
                })
            }(), l(), e(document).ready(function() {
                a.any() ? e("body").addClass("is-mobile") : e("body").addClass("not-mobile")
            })
    }), e(document).ready(function() {
        e("form#create_customer").submit(function() {
            fbq("track", "CompleteRegistration")
        }), e("#footer-newsletter-2 form").submit(function() {
            fbq("track", "Lead", {
                source: "footer"
            })
        }), e("#popup-newsletter-2 form").submit(function() {
            fbq("track", "Lead", {
                source: "popup"
            })
        });
        var t = e("#home-featured #featured-collection-1 img").height();
        e("#home-featured .triangle.right").css("border-top-width", t);
        var i = e("#home-featured #featured-collection-2 img"),
            n = t + 120;
        e("#home-featured .triangle.left").css("top", n + "px").css("border-bottom-width", i.height());
        var o = e("#page-store .hero .left img").height();
        e("#page-store .hero .triangle").css("border-bottom-width", o);
        var a = e(".mosaic-item").css("height");
        e(".mosaic-item .triangle.left").css("border-bottom-width", a), e(".mosaic-item .triangle.right").css("border-top-width", a);
        var s = e("section#seen-in").outerHeight();
        e("#seen-in .triangle.left").css("border-bottom-width", s), e("#seen-in .triangle.right").css("border-top-width", s);
        var r = e("#collection-header img").height();

        
    })
}(jQuery, this);